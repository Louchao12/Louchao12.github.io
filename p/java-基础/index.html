<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Java åŸºç¡€ å¼‚å¸¸ è¿è¡Œæ—¶å¼‚å¸¸ ç»§æ‰¿RunTimeException ç¼–è¯‘æ—¶å¼‚å¸¸ å¼‚å¸¸å¯ä»¥ç”¨throwå…³é”®å­—ä½œä¸ºç‰¹å®šè¿”å›å€¼\nå½“å‡ºç°å¼‚å¸¸æ—¶ï¼Œå°è¯•è§£å†³å¼‚å¸¸\n">
<title>Java åŸºç¡€</title>

<link rel='canonical' href='https://Louchao12.github.io/p/java-%E5%9F%BA%E7%A1%80/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="Java åŸºç¡€">
<meta property='og:description' content="Java åŸºç¡€ å¼‚å¸¸ è¿è¡Œæ—¶å¼‚å¸¸ ç»§æ‰¿RunTimeException ç¼–è¯‘æ—¶å¼‚å¸¸ å¼‚å¸¸å¯ä»¥ç”¨throwå…³é”®å­—ä½œä¸ºç‰¹å®šè¿”å›å€¼\nå½“å‡ºç°å¼‚å¸¸æ—¶ï¼Œå°è¯•è§£å†³å¼‚å¸¸\n">
<meta property='og:url' content='https://Louchao12.github.io/p/java-%E5%9F%BA%E7%A1%80/'>
<meta property='og:site_name' content='æ¥¼è¶… Lou Chao'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-11-27T14:24:57&#43;08:00'/><meta property='article:modified_time' content='2024-11-27T14:24:57&#43;08:00'/><meta property='og:image' content='https://Louchao12.github.io/p/java-%E5%9F%BA%E7%A1%80/helena-hertz-wWZzXlDpMog-unsplash.jpg' />
<meta name="twitter:title" content="Java åŸºç¡€">
<meta name="twitter:description" content="Java åŸºç¡€ å¼‚å¸¸ è¿è¡Œæ—¶å¼‚å¸¸ ç»§æ‰¿RunTimeException ç¼–è¯‘æ—¶å¼‚å¸¸ å¼‚å¸¸å¯ä»¥ç”¨throwå…³é”®å­—ä½œä¸ºç‰¹å®šè¿”å›å€¼\nå½“å‡ºç°å¼‚å¸¸æ—¶ï¼Œå°è¯•è§£å†³å¼‚å¸¸\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://Louchao12.github.io/p/java-%E5%9F%BA%E7%A1%80/helena-hertz-wWZzXlDpMog-unsplash.jpg' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu16184328156881328081.gif" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">æ¥¼è¶… Lou Chao</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/28006246'
                        target="_blank"
                        title="Bilibili"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M1588 5099 c-67 -35 -96 -124 -62 -192 9 -18 163 -179 342 -359 l327
-328 -892 0 c-627 0 -908 -3 -945 -11 -172 -37 -311 -176 -347 -347 -16 -76
-16 -3129 0 -3204 37 -172 175 -310 347 -347 31 -6 153 -11 297 -11 l245 0 0
-90 c0 -112 20 -159 80 -190 50 -25 90 -25 140 0 60 31 80 78 80 190 l0 90
1360 0 1360 0 0 -90 c0 -112 20 -159 80 -190 50 -25 90 -25 140 0 60 31 80 78
80 190 l0 90 245 0 c262 0 318 7 404 49 116 56 213 181 240 309 16 76 16 3130
0 3204 -37 172 -176 311 -347 347 -37 8 -328 11 -945 11 l-892 0 327 328 c179
180 333 341 342 359 61 122 -75 258 -197 197 -18 -9 -213 -197 -434 -417
l-403 -402 -402 402 c-222 220 -417 408 -435 417 -42 21 -90 20 -135 -5z
m3152 -1199 c26 -13 47 -34 60 -60 20 -39 20 -56 20 -1580 0 -1524 0 -1541
-20 -1580 -13 -26 -34 -47 -60 -60 -39 -20 -54 -20 -2181 -20 l-2141 0 -40 22
c-24 14 -48 38 -59 60 -18 36 -19 84 -19 1580 1 1467 2 1545 19 1577 10 18 35
44 57 57 l39 24 2143 0 c2128 0 2143 0 2182 -20z"/>
<path d="M678 3599 c-23 -12 -46 -35 -58 -59 -20 -39 -20 -57 -20 -1280 0
-1224 0 -1241 20 -1280 13 -26 34 -47 60 -60 39 -20 56 -20 1580 -20 1524 0
1541 0 1580 20 26 13 47 34 60 60 20 39 20 56 20 1280 0 1224 0 1241 -20 1280
-13 26 -34 47 -60 60 -39 20 -55 20 -1582 20 -1517 -1 -1544 -1 -1580 -21z
m2942 -1339 l0 -1060 -1360 0 -1360 0 0 1060 0 1060 1360 0 1360 0 0 -1060z"/>
<path d="M4298 3299 c-43 -22 -78 -81 -78 -129 0 -50 35 -107 80 -130 21 -11
53 -20 70 -20 50 0 107 35 130 80 11 21 20 53 20 70 0 50 -35 107 -80 130 -49
25 -94 25 -142 -1z"/>
<path d="M4298 2699 c-43 -22 -78 -81 -78 -129 0 -17 9 -49 20 -70 23 -45 80
-80 130 -80 76 0 150 74 150 150 0 50 -35 107 -80 130 -49 25 -94 25 -142 -1z"/>
<path d="M4298 2099 c-23 -12 -46 -35 -58 -59 -19 -37 -20 -58 -20 -380 0
-322 1 -343 20 -380 23 -45 80 -80 130 -80 50 0 107 35 130 80 19 37 20 58 20
380 0 322 -1 343 -20 380 -37 73 -127 99 -202 59z"/>
</g>
</svg>

                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>å½’æ¡£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æŸ¥æ‰¾</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>å‹æƒ…é“¾æ¥</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>æš—è‰²æ¨¡å¼</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#å¼‚å¸¸">å¼‚å¸¸</a></li>
    <li><a href="#final">final</a></li>
    <li><a href="#å•ä¾‹è®¾è®¡æ¨¡å¼">å•ä¾‹è®¾è®¡æ¨¡å¼</a></li>
    <li><a href="#æšä¸¾">æšä¸¾</a></li>
    <li><a href="#æŠ½è±¡ç±»">æŠ½è±¡ç±»</a></li>
    <li><a href="#æ¥å£">æ¥å£</a></li>
    <li><a href="#ä»£ç å—">ä»£ç å—</a></li>
    <li><a href="#åŒ¿åå†…éƒ¨ç±»">åŒ¿åå†…éƒ¨ç±»</a></li>
    <li><a href="#é™æ€æ–¹æ³•å¼•ç”¨">é™æ€æ–¹æ³•å¼•ç”¨</a></li>
    <li><a href="#å®ä¾‹æ–¹æ³•å¼•ç”¨">å®ä¾‹æ–¹æ³•å¼•ç”¨</a></li>
    <li><a href="#api">API</a>
      <ol>
        <li><a href="#string">String</a></li>
      </ol>
    </li>
    <li><a href="#collection">Collection</a></li>
    <li><a href="#arraylist-å’Œlinkedlist">ArrayList å’ŒLinkedList</a></li>
    <li><a href="#map">Map</a></li>
    <li><a href="#stream">Stream</a></li>
    <li><a href="#å¯å˜å‚æ•°">å¯å˜å‚æ•°</a></li>
    <li><a href="#ioæµ">IOæµ</a>
      <ol>
        <li><a href="#ç¼–ç è§£ç ">ç¼–ç è§£ç </a></li>
        <li><a href="#ç¼“å­˜æµ">ç¼“å­˜æµ</a></li>
        <li><a href="#ioæ¡†æ¶">IOæ¡†æ¶</a></li>
      </ol>
    </li>
    <li><a href="#çº¿ç¨‹">çº¿ç¨‹</a>
      <ol>
        <li><a href="#callable">Callable</a></li>
      </ol>
    </li>
    <li><a href="#åŒæ­¥é”">åŒæ­¥é”</a>
      <ol>
        <li><a href="#æ³¨æ„äº‹é¡¹runnableä»»åŠ¡">æ³¨æ„äº‹é¡¹Runnableä»»åŠ¡</a></li>
        <li><a href="#å¹¶å‘å’Œå¹¶è¡Œ">å¹¶å‘å’Œå¹¶è¡Œ</a></li>
      </ol>
    </li>
    <li><a href="#ç½‘ç»œç¼–ç¨‹">ç½‘ç»œç¼–ç¨‹</a>
      <ol>
        <li><a href="#udp">UDP</a></li>
      </ol>
    </li>
    <li><a href="#tcp">TCP</a>
      <ol>
        <li><a href="#çº¿ç¨‹æ± ä¼˜åŒ–é€šä¿¡">çº¿ç¨‹æ± ä¼˜åŒ–é€šä¿¡</a></li>
        <li><a href="#string-æ‹¼æ¥ä¼˜åŒ–">String æ‹¼æ¥ä¼˜åŒ–</a></li>
        <li><a href="#bigdecimal">BigDecimal()</a></li>
      </ol>
    </li>
    <li><a href="#junit">JUNIT</a></li>
    <li><a href="#åå°„">åå°„</a></li>
    <li><a href="#æ³¨è§£">æ³¨è§£</a></li>
    <li><a href="#åŠ¨æ€ä»£ç†">åŠ¨æ€ä»£ç†</a>
      <ol>
        <li><a href="#åŠ¨æ€ä»£ç†æ¦‚è¿°">åŠ¨æ€ä»£ç†æ¦‚è¿°</a></li>
        <li><a href="#åŸä»£ç ä¸­çš„åŠ¨æ€ä»£ç†åº”ç”¨">åŸä»£ç ä¸­çš„åŠ¨æ€ä»£ç†åº”ç”¨</a>
          <ol>
            <li><a href="#1-å®šä¹‰æ¥å£">1. å®šä¹‰æ¥å£</a></li>
            <li><a href="#2-å®ç°æ¥å£">2. å®ç°æ¥å£</a></li>
            <li><a href="#3-åˆ›å»ºåŠ¨æ€ä»£ç†ç±»">3. åˆ›å»ºåŠ¨æ€ä»£ç†ç±»</a></li>
            <li><a href="#4-ä¿®æ”¹ä¸»ç±»">4. ä¿®æ”¹ä¸»ç±»</a></li>
          </ol>
        </li>
        <li><a href="#æ€»ç»“">æ€»ç»“</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/java-%E5%9F%BA%E7%A1%80/">
                <img src="/p/java-%E5%9F%BA%E7%A1%80/helena-hertz-wWZzXlDpMog-unsplash_hu4773291511026196957.jpg"
                        srcset="/p/java-%E5%9F%BA%E7%A1%80/helena-hertz-wWZzXlDpMog-unsplash_hu4773291511026196957.jpg 800w, /p/java-%E5%9F%BA%E7%A1%80/helena-hertz-wWZzXlDpMog-unsplash_hu4180424280031756831.jpg 1600w"
                        width="800" 
                        height="600" 
                        loading="lazy"
                        alt="Featured image of post Java åŸºç¡€" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/java/" >
                Java
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/java-%E5%9F%BA%E7%A1%80/">Java åŸºç¡€</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2024-11-27</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 12 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="java-åŸºç¡€">Java åŸºç¡€
</h1><h2 id="å¼‚å¸¸">å¼‚å¸¸
</h2><ol>
<li>è¿è¡Œæ—¶å¼‚å¸¸ ç»§æ‰¿RunTimeException</li>
<li>ç¼–è¯‘æ—¶å¼‚å¸¸</li>
</ol>
<p>å¼‚å¸¸å¯ä»¥ç”¨throwå…³é”®å­—ä½œä¸ºç‰¹å®šè¿”å›å€¼</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241031193828784.png"
	width="913"
	height="627"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241031193828784_hu11237254864872147161.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241031193828784_hu5160343330368459074.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="145"
		data-flex-basis="349px"
	
></p>
<p>å½“å‡ºç°å¼‚å¸¸æ—¶ï¼Œå°è¯•è§£å†³å¼‚å¸¸</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œé›†ä¸­æŠŠå¼‚å¸¸æŠ›å‡ºåˆ°æœ€å¤–å±‚ï¼Œæœ€å¤–å±‚try catchã€‚</p>
<h2 id="final">final
</h2><ol>
<li>
<p>ä¿®é¥°ç±»ï¼šä¸èƒ½è¢«ç»§æ‰¿</p>
</li>
<li>
<p>ä¿®é¥°æ–¹æ³•ï¼šä¸èƒ½è¢«é‡å†™ ï¼Œå¤šç”¨åœ¨æŠ½è±¡æ–¹æ³•æ¨¡æ¿ä¸­</p>
</li>
<li>
<p>ä¿®é¥°å˜é‡ï¼šè¿™ä¸ªå˜é‡ä¸€å®šè¦èµ‹å€¼ä¸”åªèƒ½èµ‹ä¸€æ¬¡</p>
<p>1. final ä¿®é¥°å¼•ç”¨ç±»å‹çš„éå†ï¼Œåœ°å€ä¸èƒ½æ”¹å˜ï¼Œä½†æ˜¯å†…å®¹å¯ä»¥æ”¹å˜
2. final ä¿®é¥°åŸºæœ¬æ•°æ®ç±»å‹ å€¼ä¸èƒ½è¢«æ”¹å˜</p>
</li>
</ol>
<p>constant ç¼–è¯‘åä¼šè¢«å®æ›¿æ¢ï¼Œä¸ä¼šå½±å“æ€§èƒ½</p>
<h2 id="å•ä¾‹è®¾è®¡æ¨¡å¼">å•ä¾‹è®¾è®¡æ¨¡å¼
</h2><ol>
<li>é¥¿æ±‰å¼å•ä¾‹</li>
</ol>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241031201059736.png"
	width="1276"
	height="696"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241031201059736_hu16254023775592544031.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241031201059736_hu7686426307739626996.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="183"
		data-flex-basis="440px"
	
></p>
<ol start="2">
<li>
<p>æ‡’æ±‰å¼å•ä¾‹</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241031202104170.png"
	width="1231"
	height="782"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241031202104170_hu18419991458029317057.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241031202104170_hu5643959026175034540.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="157"
		data-flex-basis="377px"
	
></p>
</li>
</ol>
<p>åŒºåˆ«ï¼šå»¶è¿ŸåŠ è½½å¯¹è±¡ï¼Œé¥¿æ±‰å¼ä¸€æ—¦ç”¨äº†å•ä¾‹ç±»å°±åˆ›å»ºå¯¹è±¡ï¼Œæ‡’æ±‰å¼åªæœ‰è°ƒç”¨äº†å¯¹è±¡æ‰å¼€å§‹åˆ›å»ºå¯¹è±¡</p>
<h2 id="æšä¸¾">æšä¸¾
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="err">ä¿®é¥°ç¬¦</span> <span class="k">enum</span> <span class="err">æšä¸¾ç±»å</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="err">åç§°</span><span class="mi">1</span><span class="err">ã€‚ã€‚ã€‚</span>
</span></span><span class="line"><span class="cl">	<span class="err">æ–¹æ³•</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥ç”¨javap ç”¨ç»ˆç«¯è¿›è¡Œåç¼–è¯‘</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241031203040522.png"
	width="1649"
	height="759"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241031203040522_hu16467781547456084381.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241031203040522_hu8470044627185363635.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="217"
		data-flex-basis="521px"
	
></p>
<p>ç”¨å¸¸é‡å€¼å’Œæšä¸¾åšä¿¡æ¯æ ‡å¿—çš„åŒºåˆ«ï¼šå¸¸é‡çš„å‚æ•°å€¼ä¸å—çº¦æŸ</p>
<h2 id="æŠ½è±¡ç±»">æŠ½è±¡ç±»
</h2><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241031204545549.png"
	width="938"
	height="384"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241031204545549_hu4970887289164338250.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241031204545549_hu7530588400171081497.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="244"
		data-flex-basis="586px"
	
></p>
<p>æŠ½è±¡ç±»å¯ä»¥å†™æ¨¡æ¿æ–¹æ³•</p>
<h2 id="æ¥å£">æ¥å£
</h2><p>æ¥å£é‡Œåªèƒ½æœ‰å¸¸é‡å’ŒæŠ½è±¡æ–¹æ³•</p>
<p>æ¥å£æ˜¯ä¸ºäº†æ›´å¥½çš„è§£è€¦åˆ</p>
<p>åŒºåˆ«</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241101210159943.png"
	width="1036"
	height="427"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241101210159943_hu9460687266931186904.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241101210159943_hu17215929625476984668.png 1024w"
	loading="lazy"
	
		alt="image-20241101210159943"
	
	
		class="gallery-image" 
		data-flex-grow="242"
		data-flex-basis="582px"
	
></p>
<h2 id="ä»£ç å—">ä»£ç å—
</h2><p>é™æ€ä»£ç å—ï¼š ä¸ç±»ä¸€èµ·ä¼˜å…ˆåŠ è½½ï¼Œå¯¹ç±»è¿›è¡Œåˆå§‹åŒ– static{}</p>
<p>å®ä¾‹ä»£ç å—ï¼š æ¯æ¬¡åˆ›å»ºå¯¹è±¡å°±æ‰§è¡Œä¸€æ¬¡ï¼Œå’Œæ„é€ å™¨ä¸€æ ·å¯¹å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–{}</p>
<h2 id="åŒ¿åå†…éƒ¨ç±»">åŒ¿åå†…éƒ¨ç±»
</h2><p>æœ¬è´¨æ˜¯ä¸€ä¸ªå­ç±»ä¹Ÿæ˜¯ä¸€ä¸ªå­ç±»å¯¹è±¡</p>
<p>ä¼šç”Ÿæˆä¸€ä¸ªç±»ï¼Œä¸ºç±»å$ç¼–å·.class</p>
<h2 id="é™æ€æ–¹æ³•å¼•ç”¨">é™æ€æ–¹æ³•å¼•ç”¨
</h2><p>ä½œç”¨ï¼šç®€åŒ–Lambdaè¡¨è¾¾å¼</p>
<p>æ ¼å¼ï¼šç±»å:: é™æ€æ–¹æ³•ï¼›</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104145623489.png"
	width="1692"
	height="816"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104145623489_hu10344995442816087896.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104145623489_hu12367426079487730508.png 1024w"
	loading="lazy"
	
		alt="image-20241104145623489"
	
	
		class="gallery-image" 
		data-flex-grow="207"
		data-flex-basis="497px"
	
></p>
<h2 id="å®ä¾‹æ–¹æ³•å¼•ç”¨">å®ä¾‹æ–¹æ³•å¼•ç”¨
</h2><p>ç”¨æ³•ï¼š å¯¹è±¡å:: å®ä¾‹æ–¹æ³•</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104150148337.png"
	width="1920"
	height="1080"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104150148337_hu10088175735848666348.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104150148337_hu5566057561074819420.png 1024w"
	loading="lazy"
	
		alt="image-20241104150148337"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="426px"
	
></p>
<h2 id="api">API
</h2><h3 id="string">String
</h3><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104153721029.png"
	width="1226"
	height="783"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104153721029_hu14730888607353601400.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104153721029_hu5326494884835426336.png 1024w"
	loading="lazy"
	
		alt="image-20241104153721029"
	
	
		class="gallery-image" 
		data-flex-grow="156"
		data-flex-basis="375px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104154226395.png"
	width="1458"
	height="799"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104154226395_hu4499813888677623653.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104154226395_hu14992735933305268872.png 1024w"
	loading="lazy"
	
		alt="image-20241104154226395"
	
	
		class="gallery-image" 
		data-flex-grow="182"
		data-flex-basis="437px"
	
></p>
<h2 id="collection">Collection
</h2><p>å¹¶å‘ä¿®æ”¹å¼‚å¸¸</p>
<p>åœ¨éå†çš„åŒæ—¶è¿›è¡Œå¢åˆ çš„æ“ä½œ</p>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<ol>
<li>æ·»åŠ i&ndash;;</li>
<li>é€†åºéå†</li>
<li>ç”¨è¿­ä»£å™¨æ–¹æ³•remove()ï¼›</li>
<li>å¢å¼ºforå’ŒLambdaæ²¡åŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜</li>
</ol>
<h2 id="arraylist-å’Œlinkedlist">ArrayList å’ŒLinkedList
</h2><p>ArrayList æ ¹æ®ç´¢å¼•æŸ¥è¯¢æ•°æ®å¿«</p>
<p>ç‰¹ç‚¹</p>
<ol>
<li>é»˜è®¤æ•°ç»„å¤§å°æ˜¯0ï¼Œç¬¬ä¸€æ¬¡æ·»åŠ æ•°æ®è¿›è¡Œæ‰©å®¹åˆ°10</li>
<li>åç»­æ¯æ¬¡æ‰©å®¹åŸæ•°ç»„çš„1.5å€</li>
</ol>
<p>LinkedListåº•å±‚æ˜¯åŒé“¾è¡¨</p>
<h2 id="map">Map
</h2><p>ç‰¹ç‚¹ï¼šæ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ï¼Œé”®å’Œå€¼éƒ½å¯ä»¥æ˜¯null</p>
<p>éå†</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Set</span><span class="o">&lt;</span><span class="n">Map</span><span class="p">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Double</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="na">entrySet</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//javaä¸­å°†ä¸€ä¸ªé”®å€¼å¯¹å°è£…ä¸ºä¸€ä¸ªEntryå¯¹è±¡è¿›è¡Œéå†</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">map</span><span class="p">.</span><span class="na">forEach</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">sout</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="s">&#34;=&#34;</span><span class="o">+</span><span class="n">V</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//Lambdaè¡¨è¾¾å¼éå†</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">map</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">?</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="stream">Stream
</h2><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104203309789.png"
	width="1507"
	height="401"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104203309789_hu6938697326457581993.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104203309789_hu18421935614449217486.png 1024w"
	loading="lazy"
	
		alt="image-20241104203309789"
	
	
		class="gallery-image" 
		data-flex-grow="375"
		data-flex-basis="901px"
	
></p>
<p>å‡†å¤‡æ•°æ®æºï¼Œè·å–Streamæµï¼Œè°ƒç”¨æµæ°´çº¿çš„å„ç§æ–¹æ³•ï¼Œè·å–å¤„ç†ç»“æœ</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104203922835.png"
	width="556"
	height="289"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104203922835_hu11889737050906040969.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104203922835_hu17623511435668903973.png 1024w"
	loading="lazy"
	
		alt="image-20241104203922835"
	
	
		class="gallery-image" 
		data-flex-grow="192"
		data-flex-basis="461px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104204045649.png"
	width="918"
	height="251"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104204045649_hu14776377190475022236.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104204045649_hu13769042091247842662.png 1024w"
	loading="lazy"
	
		alt="image-20241104204045649"
	
	
		class="gallery-image" 
		data-flex-grow="365"
		data-flex-basis="877px"
	
></p>
<p>å¯ä»¥ç”¨å¯å˜å‚æ•°</p>
<p>ä¸­é—´æ–¹æ³•</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104204214786.png"
	width="941"
	height="543"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104204214786_hu16738915259948599736.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104204214786_hu16431577730520891741.png 1024w"
	loading="lazy"
	
		alt="image-20241104204214786"
	
	
		class="gallery-image" 
		data-flex-grow="173"
		data-flex-basis="415px"
	
></p>
<p>è¿”å›å€¼æ˜¯æ–°æµï¼Œå¯ä»¥é“¾å¼ç¼–ç¨‹</p>
<p>ç»ˆç»“æ–¹æ³•</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104205532643.png"
	width="579"
	height="313"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104205532643_hu1586965512388666978.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104205532643_hu12884128498890311952.png 1024w"
	loading="lazy"
	
		alt="image-20241104205532643"
	
	
		class="gallery-image" 
		data-flex-grow="184"
		data-flex-basis="443px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104205847036.png"
	width="1171"
	height="208"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104205847036_hu6890729969093117866.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104205847036_hu9192752111878120359.png 1024w"
	loading="lazy"
	
		alt="image-20241104205847036"
	
	
		class="gallery-image" 
		data-flex-grow="562"
		data-flex-basis="1351px"
	
></p>
<p>æ”¶é›†streamæµ</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104205944091.png"
	width="1374"
	height="556"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104205944091_hu11373467618256491799.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104205944091_hu15229824221093738480.png 1024w"
	loading="lazy"
	
		alt="image-20241104205944091"
	
	
		class="gallery-image" 
		data-flex-grow="247"
		data-flex-basis="593px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104210322456.png"
	width="828"
	height="358"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104210322456_hu16140153178795299114.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104210322456_hu4162968813151784655.png 1024w"
	loading="lazy"
	
		alt="image-20241104210322456"
	
	
		class="gallery-image" 
		data-flex-grow="231"
		data-flex-basis="555px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241104210540371.png"
	width="1263"
	height="101"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241104210540371_hu3357723627195942291.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241104210540371_hu6600185856200697532.png 1024w"
	loading="lazy"
	
		alt="image-20241104210540371"
	
	
		class="gallery-image" 
		data-flex-grow="1250"
		data-flex-basis="3001px"
	
></p>
<h2 id="å¯å˜å‚æ•°">å¯å˜å‚æ•°
</h2><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105143908321.png"
	width="1920"
	height="1080"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105143908321_hu5858196409543478348.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105143908321_hu18235255989123451727.png 1024w"
	loading="lazy"
	
		alt="image-20241105143908321"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="426px"
	
></p>
<h2 id="ioæµ">IOæµ
</h2><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105151249864.png"
	width="1005"
	height="704"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105151249864_hu446011902599499356.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105151249864_hu14327649556880015340.png 1024w"
	loading="lazy"
	
		alt="image-20241105151249864"
	
	
		class="gallery-image" 
		data-flex-grow="142"
		data-flex-basis="342px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105151715232.png"
	width="640"
	height="544"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105151715232_hu1105452342064713037.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105151715232_hu2033462115847122786.png 1024w"
	loading="lazy"
	
		alt="image-20241105151715232"
	
	
		class="gallery-image" 
		data-flex-grow="117"
		data-flex-basis="282px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105152135345.png"
	width="898"
	height="310"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105152135345_hu17059439019032352083.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105152135345_hu6360812945579698172.png 1024w"
	loading="lazy"
	
		alt="image-20241105152135345"
	
	
		class="gallery-image" 
		data-flex-grow="289"
		data-flex-basis="695px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105152232296.png"
	width="953"
	height="366"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105152232296_hu13971502722010241294.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105152232296_hu17129232634233435936.png 1024w"
	loading="lazy"
	
		alt="image-20241105152232296"
	
	
		class="gallery-image" 
		data-flex-grow="260"
		data-flex-basis="624px"
	
></p>
<p>æ³¨æ„äº‹é¡¹</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105152506504.png"
	width="1507"
	height="582"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105152506504_hu3135632502535542121.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105152506504_hu12880163009014839422.png 1024w"
	loading="lazy"
	
		alt="image-20241105152506504"
	
	
		class="gallery-image" 
		data-flex-grow="258"
		data-flex-basis="621px"
	
></p>
<h3 id="ç¼–ç è§£ç ">ç¼–ç è§£ç 
</h3><p>UTF-8ä¸­æ–‡æ˜¯3ä¸ªå­—èŠ‚ï¼Œè‹±æ–‡å’Œæ•°å­—æ˜¯1ä¸ªå­—èŠ‚</p>
<p>GBK ä¸­æ–‡æ˜¯2 ä¸ªå­—èŠ‚ï¼Œè‹±æ–‡å’Œæ•°å­—æ˜¯1ä¸ªå­—èŠ‚</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105162323394.png"
	width="1563"
	height="766"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105162323394_hu15072369088275316293.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105162323394_hu5250407544245270642.png 1024w"
	loading="lazy"
	
		alt="image-20241105162323394"
	
	
		class="gallery-image" 
		data-flex-grow="204"
		data-flex-basis="489px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105162539451.png"
	width="888"
	height="438"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105162539451_hu8039480898324658195.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105162539451_hu639508839279671733.png 1024w"
	loading="lazy"
	
		alt="image-20241105162539451"
	
	
		class="gallery-image" 
		data-flex-grow="202"
		data-flex-basis="486px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105162622462.png"
	width="817"
	height="154"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105162622462_hu9640365774945380800.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105162622462_hu18033800219745284537.png 1024w"
	loading="lazy"
	
		alt="image-20241105162622462"
	
	
		class="gallery-image" 
		data-flex-grow="530"
		data-flex-basis="1273px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105165100670.png"
	width="1079"
	height="646"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105165100670_hu4368963921230673151.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105165100670_hu5983420246927608597.png 1024w"
	loading="lazy"
	
		alt="image-20241105165100670"
	
	
		class="gallery-image" 
		data-flex-grow="167"
		data-flex-basis="400px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105165338850.png"
	width="1592"
	height="764"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105165338850_hu8406834471374796610.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105165338850_hu6268191933208635098.png 1024w"
	loading="lazy"
	
		alt="image-20241105165338850"
	
	
		class="gallery-image" 
		data-flex-grow="208"
		data-flex-basis="500px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105165952655.png"
	width="747"
	height="583"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105165952655_hu15053124126370824215.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105165952655_hu16122363650119118730.png 1024w"
	loading="lazy"
	
		alt="image-20241105165952655"
	
	
		class="gallery-image" 
		data-flex-grow="128"
		data-flex-basis="307px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105170153486.png"
	width="1285"
	height="818"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105170153486_hu15849697284562168454.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105170153486_hu2376278995087631176.png 1024w"
	loading="lazy"
	
		alt="image-20241105170153486"
	
	
		class="gallery-image" 
		data-flex-grow="157"
		data-flex-basis="377px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105171507866.png"
	width="967"
	height="618"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105171507866_hu13552290003027951786.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105171507866_hu14456724946779987365.png 1024w"
	loading="lazy"
	
		alt="image-20241105171507866"
	
	
		class="gallery-image" 
		data-flex-grow="156"
		data-flex-basis="375px"
	
></p>
<p>æ”¾å…¥tryä¸­çš„ï¼Œåªèƒ½æ˜¯èµ„æºï¼Œè¦ç»§æ‰¿closeableæˆ–autocloseableæ¥å£</p>
<p>try - with - resource</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105173249128.png"
	width="1621"
	height="877"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105173249128_hu2779395214557464309.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105173249128_hu5472470305815086710.png 1024w"
	loading="lazy"
	
		alt="image-20241105173249128"
	
	
		class="gallery-image" 
		data-flex-grow="184"
		data-flex-basis="443px"
	
></p>
<p>æ–‡ä»¶çš„å¤åˆ¶ç”¨å­—èŠ‚æµï¼Œæ–‡ä»¶çš„è¯»å†™æ—¶ç”¨å­—ç¬¦æµ</p>
<h3 id="ç¼“å­˜æµ">ç¼“å­˜æµ
</h3><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105174150763.png"
	width="1547"
	height="719"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105174150763_hu10762854412201220597.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105174150763_hu11130009340648705591.png 1024w"
	loading="lazy"
	
		alt="image-20241105174150763"
	
	
		class="gallery-image" 
		data-flex-grow="215"
		data-flex-basis="516px"
	
></p>
<p>é«˜çº§ç®¡é“ä¸æ”¯æŒè¿½åŠ ï¼Œä½†æ˜¯ä½çº§ç®¡é“æ”¯æŒè¿½ç©¶ï¼Œå¯ä»¥ä½¿ç”¨é«˜çº§ç®¡é“åŒ…ä½çº§ç®¡é“è¿›è¡Œè¿½åŠ </p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105183139732.png"
	width="973"
	height="378"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105183139732_hu16633281493488322890.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105183139732_hu11191544994526851866.png 1024w"
	loading="lazy"
	
		alt="image-20241105183139732"
	
	
		class="gallery-image" 
		data-flex-grow="257"
		data-flex-basis="617px"
	
></p>
<p>è¾“å…¥å’Œè¾“å‡ºçš„ç±»å‹è¦ä¸€è‡´</p>
<h3 id="ioæ¡†æ¶">IOæ¡†æ¶
</h3><p>è¦å¯¼å…¥Commons-io.jar</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105184204984.png"
	width="1432"
	height="700"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105184204984_hu8373836737719971789.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105184204984_hu1466330998937243196.png 1024w"
	loading="lazy"
	
		alt="image-20241105184204984"
	
	
		class="gallery-image" 
		data-flex-grow="204"
		data-flex-basis="490px"
	
></p>
<h2 id="çº¿ç¨‹">çº¿ç¨‹
</h2><p>ç»§æ‰¿Threadï¼Œåˆ›å»ºçº¿ç¨‹ç±»çš„å¯¹è±¡ï¼Œé‡å†™run(), å¯åŠ¨start()ï¼ˆ<strong>ä¼šè‡ªåŠ¨è°ƒç”¨runæ–¹æ³•</strong>ï¼‰</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105191550345.png"
	width="756"
	height="465"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105191550345_hu12137034199992522513.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105191550345_hu16315178405171742755.png 1024w"
	loading="lazy"
	
		alt="image-20241105191550345"
	
	
		class="gallery-image" 
		data-flex-grow="162"
		data-flex-basis="390px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105192050537.png"
	width="1494"
	height="893"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105192050537_hu8030113137114395409.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105192050537_hu9890390600853796280.png 1024w"
	loading="lazy"
	
		alt="image-20241105192050537"
	
	
		class="gallery-image" 
		data-flex-grow="167"
		data-flex-basis="401px"
	
></p>
<p>å¯ä»¥ç”¨åŒ¿åå†…éƒ¨ç±»å†™æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨Lambdaè¡¨è¾¾å¼</p>
<h3 id="callable">Callable
</h3><p>Threadå’ŒRunnableéƒ½ä¸èƒ½å¸¦è¿”å›å€¼ï¼Œé‡æ–°callæ–¹æ³•å¯ä»¥è·å–è¿”å›å€¼</p>
<p>åˆå§‹åŒ–Callableå®ä¾‹</p>
<p>FutureTaskåŒ…ä½Callableå®ä¾‹</p>
<p>ThreadåŒ…ä½FutureTaskå¯¹è±¡</p>
<p>t.start</p>
<p>é€šè¿‡FutureTaskæ–¹æ³•ä¸­çš„getæ–¹æ³•è·å–è¿”å›å€¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.demo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.Callable</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.ExecutionException</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.FutureTask</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">test</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">FutureTask</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FutureTask</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">MyCallable</span><span class="p">(</span><span class="n">100</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">FutureTask</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FutureTask</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">MyCallable</span><span class="p">(</span><span class="n">50</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Thread</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="n">future</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Thread</span><span class="w"> </span><span class="n">thread2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="n">future2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">thread2</span><span class="p">.</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">thread</span><span class="p">.</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">future</span><span class="p">.</span><span class="na">get</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">future2</span><span class="p">.</span><span class="na">get</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@AllArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@NoArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">MyCallable</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">num</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">call</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">num</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&#34;è¿™æ˜¯1-&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;çš„å’Œï¼š&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sum</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105200049473.png"
	width="1333"
	height="629"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105200049473_hu6431904733498171454.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105200049473_hu1540818905801994857.png 1024w"
	loading="lazy"
	
		alt="image-20241105200049473"
	
	
		class="gallery-image" 
		data-flex-grow="211"
		data-flex-basis="508px"
	
></p>
<p>API</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="c1">//å“ªä¸ªçº¿ç¨‹è°ƒç”¨å°±è·å–å“ªä¸ªçº¿ç¨‹çš„åå­—</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Thread</span><span class="w"> </span><span class="n">thread2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="n">future2</span><span class="p">,</span><span class="s">&#34;äºŒå·çº¿ç¨‹&#34;</span><span class="p">);</span><span class="c1">//å¯ä»¥é€šè¿‡æ„é€ å™¨è®¾ç½®çº¿ç¨‹çš„åå­—</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">1000</span><span class="p">);</span><span class="c1">//ä¼‘çœ </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">t1</span><span class="p">.</span><span class="na">join</span><span class="p">();</span><span class="c1">//æ’é˜Ÿ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241105201248697.png"
	width="809"
	height="82"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241105201248697_hu10529805507950734238.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241105201248697_hu14776783442116712746.png 1024w"
	loading="lazy"
	
		alt="image-20241105201248697"
	
	
		class="gallery-image" 
		data-flex-grow="986"
		data-flex-basis="2367px"
	
></p>
<h2 id="åŒæ­¥é”">åŒæ­¥é”
</h2><p>synchronizedï¼ˆï¼‰{æ ¸å¿ƒä»£ç å—}</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106132926809.png"
	width="532"
	height="344"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106132926809_hu3979516808128792921.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106132926809_hu5558219281532259550.png 1024w"
	loading="lazy"
	
		alt="image-20241106132926809"
	
	
		class="gallery-image" 
		data-flex-grow="154"
		data-flex-basis="371px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106133245189.png"
	width="1221"
	height="799"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106133245189_hu13609211496009150612.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106133245189_hu10871963378386636508.png 1024w"
	loading="lazy"
	
		alt="image-20241106133245189"
	
	
		class="gallery-image" 
		data-flex-grow="152"
		data-flex-basis="366px"
	
></p>
<p>åŒæ­¥ä»£ç å—æ€§èƒ½æ¯”åŒæ­¥æ–¹æ³•å¥½ï¼Œä½†æ˜¯åŒæ­¥æ–¹æ³•å¯è¯»æ€§æ›´å¥½</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106133915119.png"
	width="697"
	height="40"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106133915119_hu10537288575598359205.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106133915119_hu10526188654530145207.png 1024w"
	loading="lazy"
	
		alt="image-20241106133915119"
	
	
		class="gallery-image" 
		data-flex-grow="1742"
		data-flex-basis="4182px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">lk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ReentrantLock</span><span class="p">();</span><span class="c1">//ç”¨finalå…³é”®å­—ä¿æŠ¤é”</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å°†è§£é”æ–¹å¼æ”¾åœ¨finallyä¸­æ›´å®‰å…¨</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106134430443.png"
	width="1533"
	height="779"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106134430443_hu14374916226711989363.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106134430443_hu15830637472197214315.png 1024w"
	loading="lazy"
	
		alt="image-20241106134430443"
	
	
		class="gallery-image" 
		data-flex-grow="196"
		data-flex-basis="472px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106134637186.png"
	width="687"
	height="395"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106134637186_hu12131382539203829572.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106134637186_hu11756171234863368169.png 1024w"
	loading="lazy"
	
		alt="image-20241106134637186"
	
	
		class="gallery-image" 
		data-flex-grow="173"
		data-flex-basis="417px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106135824094.png"
	width="1920"
	height="1080"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106135824094_hu9930377313159644340.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106135824094_hu9087023591868621749.png 1024w"
	loading="lazy"
	
		alt="image-20241106135824094"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="426px"
	
></p>
<h3 id="æ³¨æ„äº‹é¡¹runnableä»»åŠ¡">æ³¨æ„äº‹é¡¹Runnableä»»åŠ¡
</h3><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106140035953.png"
	width="1607"
	height="841"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106140035953_hu9023936247608144866.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106140035953_hu17450112398416492655.png 1024w"
	loading="lazy"
	
		alt="image-20241106140035953"
	
	
		class="gallery-image" 
		data-flex-grow="191"
		data-flex-basis="458px"
	
></p>
<p>å¤„ç†Callableä»»åŠ¡è°ƒç”¨submitæ–¹æ³•</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106140903334.png"
	width="697"
	height="206"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106140903334_hu11596635634630120027.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106140903334_hu2585305364385357502.png 1024w"
	loading="lazy"
	
		alt="image-20241106140903334"
	
	
		class="gallery-image" 
		data-flex-grow="338"
		data-flex-basis="812px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106141117610.png"
	width="1576"
	height="668"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106141117610_hu12669938492142797050.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106141117610_hu16493164784626111540.png 1024w"
	loading="lazy"
	
		alt="image-20241106141117610"
	
	
		class="gallery-image" 
		data-flex-grow="235"
		data-flex-basis="566px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106141621599.png"
	width="1227"
	height="598"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106141621599_hu12494942789446573191.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106141621599_hu15804124065154044723.png 1024w"
	loading="lazy"
	
		alt="image-20241106141621599"
	
	
		class="gallery-image" 
		data-flex-grow="205"
		data-flex-basis="492px"
	
></p>
<h3 id="å¹¶å‘å’Œå¹¶è¡Œ">å¹¶å‘å’Œå¹¶è¡Œ
</h3><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106142425720.png"
	width="899"
	height="527"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106142425720_hu16139206909227175339.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106142425720_hu15888696065098854515.png 1024w"
	loading="lazy"
	
		alt="image-20241106142425720"
	
	
		class="gallery-image" 
		data-flex-grow="170"
		data-flex-basis="409px"
	
></p>
<p>å¹¶å‘æ˜¯æŒ‡å•æ ¸cpuè½®è¯¢æ‰§è¡Œçº¿ç¨‹ï¼Œä½†æ˜¯ç”±äºé€Ÿåº¦å¿«ï¼Œå°±æ„Ÿè§‰æ˜¯åŒæ—¶è¿›è¡Œçš„</p>
<p>å¹¶è¡Œæ˜¯æŒ‡å¤šæ ¸cpuåŒæ—¶æ‰§è¡Œä¸åŒçš„çº¿ç¨‹</p>
<p>æ‰§è¡Œä»»åŠ¡ä¸­å¹¶å‘å’Œå¹¶è¡Œæ˜¯åŒæ—¶è¿›è¡Œçš„</p>
<h2 id="ç½‘ç»œç¼–ç¨‹">ç½‘ç»œç¼–ç¨‹
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.demo2.net</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.InetAddress</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">demon</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">InetAddress</span><span class="w"> </span><span class="n">ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InetAddress</span><span class="p">.</span><span class="na">getLocalHost</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ip</span><span class="p">.</span><span class="na">getHostAddress</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ip</span><span class="p">.</span><span class="na">getHostName</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">InetAddress</span><span class="w"> </span><span class="n">ip2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InetAddress</span><span class="p">.</span><span class="na">getByName</span><span class="p">(</span><span class="s">&#34;www.google.com&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ip2</span><span class="p">.</span><span class="na">getHostAddress</span><span class="p">());</span><span class="c1">//è·å–å…¬ç½‘ip</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ip2</span><span class="p">.</span><span class="na">getHostName</span><span class="p">());</span><span class="c1">//è·å–ä¸»æœºå</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ip</span><span class="p">.</span><span class="na">isReachable</span><span class="p">(</span><span class="n">3000</span><span class="p">));</span><span class="c1">//ç›¸å½“äºpingå‘½ä»¤</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="udp">UDP
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JAVA" data-lang="JAVA"><span class="line"><span class="cl"><span class="c1">//æœåŠ¡ç«¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.demo2.udp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.*</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Udp</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//ä½¿ç”¨udpå®Œæˆé€šä¿¡</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">DatagramSocket</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DatagramSocket</span><span class="p">();</span><span class="c1">//åˆ›å»ºå¥—æ¥å­—</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;æ˜¯éŸ­èœ&#34;</span><span class="w"> </span><span class="p">.</span><span class="na">getBytes</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        * å‚æ•°ä¸€ï¼šå‘é€æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="cm">        * å‚æ•°äºŒï¼šå‘é€æ•°æ®å¤§å°
</span></span></span><span class="line"><span class="cl"><span class="cm">        * å‚æ•°ä¸‰ï¼šç›®æ ‡IP
</span></span></span><span class="line"><span class="cl"><span class="cm">        * å‚æ•°å››ï¼šç›®æ ‡ç«¯å£*/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//åˆ›å»ºæ•°æ®åŒ…</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">DatagramPacket</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DatagramPacket</span><span class="p">(</span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="p">.</span><span class="na">length</span><span class="p">,</span><span class="w"> </span><span class="n">InetAddress</span><span class="p">.</span><span class="na">getLocalHost</span><span class="p">(),</span><span class="n">8080</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">socket</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="n">packet</span><span class="p">);</span><span class="c1">//å‘é€æ•°æ®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JAVA" data-lang="JAVA"><span class="line"><span class="cl"><span class="c1">// å®¢æˆ·ç«¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.demo2.udp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.DatagramPacket</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.DatagramSocket</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UdpServices</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">DatagramSocket</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DatagramSocket</span><span class="p">(</span><span class="n">8080</span><span class="p">);</span><span class="c1">// ç›‘å¬ç«¯å£</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">byte</span><span class="o">[</span><span class="n">1024</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">64</span><span class="o">]</span><span class="p">;</span><span class="c1">// åˆ›å»ºä¸€ä¸ªç¼“å†²åŒº</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">DatagramPacket</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DatagramPacket</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">.</span><span class="na">length</span><span class="p">);</span><span class="c1">// åˆ›å»ºä¸€ä¸ªæ•°æ®åŒ…ï¼Œç”¨äºæ¥æ”¶æ•°æ®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">socket</span><span class="p">.</span><span class="na">receive</span><span class="p">(</span><span class="n">packet</span><span class="p">);</span><span class="c1">// æ¥æ”¶æ•°æ®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">packet</span><span class="p">.</span><span class="na">getLength</span><span class="p">();</span><span class="w"> </span><span class="c1">// å®é™…æ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">len</span><span class="p">);</span><span class="w"> </span><span class="c1">// å°†æ¥æ”¶åˆ°çš„æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106155207872.png"
	width="1088"
	height="807"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106155207872_hu17024835533179235199.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106155207872_hu18325419244899677104.png 1024w"
	loading="lazy"
	
		alt="image-20241106155207872"
	
	
		class="gallery-image" 
		data-flex-grow="134"
		data-flex-basis="323px"
	
></p>
<p>udpå¯ä»¥å®ç°å¤šå‘å¤šæ”¶</p>
<h2 id="tcp">TCP
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JAVA" data-lang="JAVA"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.demo2.tcp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.DataInputStream</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.InputStream</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.Socket</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ServerThread</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Thread</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Socket</span><span class="w"> </span><span class="n">socket</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ServerThread</span><span class="p">(</span><span class="n">Socket</span><span class="w"> </span><span class="n">socket</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">socket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">socket</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">try</span><span class="p">(</span><span class="n">InputStream</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">socket</span><span class="p">.</span><span class="na">getInputStream</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// ä½¿ç”¨DataInputStreamåŒ…è£…è¾“å…¥æµï¼Œä»¥ä¾¿è¯»å–æ•°æ®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">DataInputStream</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataInputStream</span><span class="p">(</span><span class="n">is</span><span class="p">);)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// è¯»å–å®¢æˆ·ç«¯å‘é€çš„æ•´å‹IDå’Œå­—ç¬¦ä¸²æ¶ˆæ¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="kt">int</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">readInt</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">String</span><span class="w"> </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">readUTF</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="c1">// æ‰“å°æ¥æ”¶åˆ°çš„IDå’Œæ¶ˆæ¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;id  &#34;</span><span class="o">+</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;msg  &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">msg</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="c1">// æ‰“å°å®¢æˆ·ç«¯çš„IPåœ°å€å’Œç«¯å£å·</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;ip = &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">socket</span><span class="p">.</span><span class="na">getInetAddress</span><span class="p">().</span><span class="na">getHostAddress</span><span class="p">()</span><span class="o">+</span><span class="s">&#34;port=&#34;</span><span class="o">+</span><span class="n">socket</span><span class="p">.</span><span class="na">getPort</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;å®¢æˆ·ç«¯ä¸‹çº¿  &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">socket</span><span class="p">.</span><span class="na">getInetAddress</span><span class="p">().</span><span class="na">getAddress</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JAVA" data-lang="JAVA"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.demo2.tcp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.*</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.Socket</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Scanner</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">tcpClient</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//ç”¨tcpå®ç°å®¢æˆ·ç«¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;å®¢æˆ·ç«¯å¯åŠ¨&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// åˆ›å»ºSocketå¯¹è±¡ï¼Œè¿æ¥æœ¬åœ°ä¸»æœºçš„9999ç«¯å£</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Socket</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Socket</span><span class="p">(</span><span class="s">&#34;127.0.0.1&#34;</span><span class="p">,</span><span class="n">9999</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// åˆ›å»ºScannerå¯¹è±¡ï¼Œç”¨äºä»æ§åˆ¶å°è¯»å–ç”¨æˆ·è¾“å…¥</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Scanner</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Socketçš„è¾“å‡ºæµ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">OutputStream</span><span class="w"> </span><span class="n">os</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">socket</span><span class="p">.</span><span class="na">getOutputStream</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// åˆ›å»ºDataOutputStreamå¯¹è±¡ï¼Œç”¨äºå‘é€æ•°æ®åˆ°æœåŠ¡å™¨</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">DataOutputStream</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataOutputStream</span><span class="p">(</span><span class="n">os</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// å‘é€ä¸€ä¸ªæ•´æ•°1åˆ°æœåŠ¡å™¨ï¼Œä½œä¸ºæ¶ˆæ¯çš„æ ‡è¯†</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// æç¤ºç”¨æˆ·è¾“å…¥æ¶ˆæ¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;è¯·è¾“å…¥è¦å‘é€çš„æ¶ˆæ¯&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// è¯»å–ç”¨æˆ·è¾“å…¥çš„æ¶ˆæ¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">nextLine</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// å¦‚æœç”¨æˆ·è¾“å…¥&#34;exit&#34;ï¼Œå…³é—­Socketè¿æ¥å¹¶ç»“æŸå¾ªç¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">msg</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&#34;exit&#34;</span><span class="p">)){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">socket</span><span class="p">.</span><span class="na">close</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">out</span><span class="p">.</span><span class="na">writeInt</span><span class="p">(</span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// å‘é€ç”¨æˆ·è¾“å…¥çš„æ¶ˆæ¯åˆ°æœåŠ¡å™¨</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">out</span><span class="p">.</span><span class="na">writeUTF</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">out</span><span class="p">.</span><span class="na">flush</span><span class="p">();</span><span class="c1">// åˆ·æ–°è¾“å‡ºæµ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">.</span><span class="na">3</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="c1">//ä¸è§£å†³ç²¾åº¦é—®é¢˜</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="s">&#34;&#34;</span><span class="p">);</span><span class="c1">//è§£å†³ç²¾åº¦é—®é¢˜ï¼Œæœ¬è´¨æ˜¯å­—ç¬¦ä¸²ï¼Œåº•å±‚æ˜¯å­—ç¬¦æ‹†åˆ†</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="c1">//è§£æå­—ç¬¦ä¸²ç”¨çš„å°±æ˜¯ä¸Šé¢è½¬å­—ç¬¦ä¸²çš„æ–¹æ³•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">b</span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ROUND_HALF_UP</span><span class="p">);</span><span class="c1">//å››èˆäº”å…¥</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JAVA" data-lang="JAVA"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.demo2.tcp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.*</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.ServerSocket</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.Socket</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">tcpServices</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;tcpæœåŠ¡ç«¯&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// åˆ›å»ºServerSocketå®ä¾‹ï¼Œç›‘å¬9999ç«¯å£</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ServerSocket</span><span class="w"> </span><span class="n">ss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServerSocket</span><span class="p">(</span><span class="n">9999</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ï¼Œæ¥æ”¶åˆ°è¿æ¥è¯·æ±‚ååˆ›å»ºSocketå¯¹è±¡</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Socket</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ss</span><span class="p">.</span><span class="na">accept</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;å®¢æˆ·ç«¯è¿æ¥æˆåŠŸ&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">socket</span><span class="p">.</span><span class="na">getInetAddress</span><span class="p">().</span><span class="na">getAddress</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">ServerThread</span><span class="p">(</span><span class="n">socket</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// æ— é™å¾ªç¯ä»¥æŒç»­å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="çº¿ç¨‹æ± ä¼˜åŒ–é€šä¿¡">çº¿ç¨‹æ± ä¼˜åŒ–é€šä¿¡
</h3><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106195616645.png"
	width="1425"
	height="162"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106195616645_hu15006946952000104247.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106195616645_hu11564818524899054247.png 1024w"
	loading="lazy"
	
		alt="image-20241106195616645"
	
	
		class="gallery-image" 
		data-flex-grow="879"
		data-flex-basis="2111px"
	
></p>
<h3 id="string-æ‹¼æ¥ä¼˜åŒ–">String æ‹¼æ¥ä¼˜åŒ–
</h3><p>ç”¨ä¼ ç»Ÿçš„â€œ+â€æ‹¼æ¥ååˆ†è€—æ—¶ï¼Œå› ä¸ºStringæ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œä¿®æ”¹æ•°æ®æ€§èƒ½å¾ˆå·®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">StringBuilder</span><span class="w"> </span><span class="n">sb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuilder</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">1000000</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&#34;abc&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Sytem</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">sb</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>StringBuilder å¯ä»¥æ”¯æŒé“¾å¼ç¼–ç¨‹ ï¼Œä½†æ˜¯æœ€åè¦è½¬æˆStringè¿”å›ï¼›</p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106201714957.png"
	width="1402"
	height="835"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106201714957_hu16077031524622029687.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106201714957_hu10323548600087140812.png 1024w"
	loading="lazy"
	
		alt="image-20241106201714957"
	
	
		class="gallery-image" 
		data-flex-grow="167"
		data-flex-basis="402px"
	
></p>
<h3 id="bigdecimal">BigDecimal()
</h3><p>è§£å†³å°æ•°è®¡ç®—ç²¾åº¦é—®é¢˜</p>
<ol>
<li>äºŒè¿›åˆ¶è¡¨ç¤ºçš„å±€é™æ€§ï¼š
æµ®ç‚¹æ•°åœ¨è®¡ç®—æœºä¸­æ˜¯ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨çš„ï¼Œè€ŒæŸäº›åè¿›åˆ¶å°æ•°æ— æ³•ç²¾ç¡®åœ°è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶å°æ•°ã€‚ä¾‹å¦‚ï¼Œåè¿›åˆ¶çš„ 0.1 åœ¨äºŒè¿›åˆ¶ä¸­æ˜¯ä¸€ä¸ªæ— é™å¾ªç¯å°æ•° 0.0001100110011&hellip;ã€‚ç”±äºæµ®ç‚¹æ•°çš„å­˜å‚¨ç©ºé—´æœ‰é™ï¼Œè¿™äº›æ— é™å¾ªç¯å°æ•°åœ¨å­˜å‚¨æ—¶ä¼šè¢«æˆªæ–­ï¼Œå¯¼è‡´ç²¾åº¦æŸå¤±ã€‚</li>
<li>IEEE 754 æ ‡å‡†ï¼š
æµ®ç‚¹æ•°éµå¾ª IEEE 754 æ ‡å‡†ï¼Œè¯¥æ ‡å‡†å®šä¹‰äº†æµ®ç‚¹æ•°çš„å­˜å‚¨æ ¼å¼ï¼ŒåŒ…æ‹¬å•ç²¾åº¦ï¼ˆ32ä½ï¼‰å’ŒåŒç²¾åº¦ï¼ˆ64ä½ï¼‰ã€‚å•ç²¾åº¦æµ®ç‚¹æ•°ï¼ˆfloatï¼‰æœ‰23ä½å°¾æ•°ï¼ˆå°æ•°éƒ¨åˆ†ï¼‰ï¼ŒåŒç²¾åº¦æµ®ç‚¹æ•°ï¼ˆdoubleï¼‰æœ‰52ä½å°¾æ•°ã€‚å³ä½¿è¿™æ ·ï¼Œä¹Ÿæ— æ³•ç²¾ç¡®è¡¨ç¤ºæ‰€æœ‰åè¿›åˆ¶å°æ•°ã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">.</span><span class="na">3</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="c1">//ä¸è§£å†³ç²¾åº¦é—®é¢˜</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="s">&#34;&#34;</span><span class="p">);</span><span class="c1">//è§£å†³ç²¾åº¦é—®é¢˜ï¼Œæœ¬è´¨æ˜¯å­—ç¬¦ä¸²ï¼Œåº•å±‚æ˜¯å­—ç¬¦æ‹†åˆ†</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="c1">//è§£æå­—ç¬¦ä¸²ç”¨çš„å°±æ˜¯ä¸Šé¢è½¬å­—ç¬¦ä¸²çš„æ–¹æ³•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">divide</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">b</span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ROUND_HALF_UP</span><span class="p">);</span><span class="c1">//ç²¾ç¡®ä½æ•° å››èˆäº”å…¥</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="junit">JUNIT
</h2><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241106210055639.png"
	width="1420"
	height="642"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241106210055639_hu14617620997969665113.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241106210055639_hu900101873196650848.png 1024w"
	loading="lazy"
	
		alt="image-20241106210055639"
	
	
		class="gallery-image" 
		data-flex-grow="221"
		data-flex-basis="530px"
	
></p>
<p>è¦åšæ–­è¨€æµ‹è¯•æµ‹è¯•API&ndash;Assert</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.junit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">function</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//è·å–ä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getLength</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">str</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">()){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">char</span><span class="o">[]</span><span class="w"> </span><span class="n">chars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="na">toCharArray</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">chars</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.junit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Assert</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Test</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">getLengthTest</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testGetLength</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;hello world&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">str1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">(</span><span class="s">&#34;æ­£å¸¸è¾“å…¥&#34;</span><span class="p">,</span><span class="n">11</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">.</span><span class="na">getLength</span><span class="p">(</span><span class="n">str</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">(</span><span class="s">&#34;ç©ºå­—ç¬¦ä¸²&#34;</span><span class="p">,</span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">.</span><span class="na">getLength</span><span class="p">(</span><span class="n">str1</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="åå°„">åå°„
</h2><p>åå°„ä¸»è¦æ˜¯åˆ¶ä½œæ¡†æ¶ç”¨çš„ï¼Œå¯ä»¥é€šè¿‡æš´åŠ›åå°„ç›´æ¥è·å–privateå±æ€§çš„å¯¹è±¡æˆ–æ–¹æ³•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.reflect</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.Constructor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.Field</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.Method</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">reflectDemo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„Classå¯¹è±¡</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Class</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Agent</span><span class="p">.</span><span class="na">class</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// æ‰“å°ç±»çš„å…¨å</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// æ‰“å°ç±»çš„ç®€å•å</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="na">getSimpleName</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„æ‰€æœ‰æ„é€ å™¨</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Constructor</span><span class="o">[]</span><span class="w"> </span><span class="n">con</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">getDeclaredConstructors</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„æŒ‡å®šæ„é€ å™¨</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Constructor</span><span class="w"> </span><span class="n">con1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">getDeclaredConstructor</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è®¾ç½®æ„é€ å™¨å¯è®¿é—®ï¼Œä»¥ä¾¿åå°„è°ƒç”¨</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">con1</span><span class="p">.</span><span class="na">setAccessible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ä½¿ç”¨åå°„é€šè¿‡æ„é€ å™¨åˆ›å»ºAgentå¯¹è±¡</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Agent</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Agent</span><span class="p">)</span><span class="w"> </span><span class="n">con1</span><span class="p">.</span><span class="na">newInstance</span><span class="p">(</span><span class="s">&#34;å°æ˜&#34;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// æ‰“å°æœ‰å‚æ„é€ å™¨åˆ›å»ºçš„Agentå¯¹è±¡</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">A</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// æ‰“å°æœ‰å‚æ„é€ å™¨çš„ä¿¡æ¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;æœ‰å‚æ„é€ å™¨&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">con1</span><span class="p">.</span><span class="na">getDeclaringClass</span><span class="p">().</span><span class="na">getSimpleName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">con1</span><span class="p">.</span><span class="na">getParameterCount</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// éå†å¹¶æ‰“å°æ‰€æœ‰æ„é€ å™¨çš„ä¿¡æ¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Constructor</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">con</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">constructor</span><span class="p">.</span><span class="na">getDeclaringClass</span><span class="p">().</span><span class="na">getSimpleName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">constructor</span><span class="p">.</span><span class="na">getParameterCount</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„æ‰€æœ‰å±æ€§</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Field</span><span class="o">[]</span><span class="w"> </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">getDeclaredFields</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// éå†å¹¶æ‰“å°æ‰€æœ‰å±æ€§çš„åç§°</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Field</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">fields</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">field</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„æŒ‡å®šå±æ€§</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Field</span><span class="w"> </span><span class="n">field1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">getDeclaredField</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// æ‰“å°å±æ€§çš„åç§°å’Œç±»å‹</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">field1</span><span class="p">.</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">field1</span><span class="p">.</span><span class="na">getType</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„æ‰€æœ‰æ–¹æ³•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Method</span><span class="o">[]</span><span class="w"> </span><span class="n">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">getDeclaredMethods</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// éå†å¹¶æ‰“å°æ‰€æœ‰æ–¹æ³•çš„åç§°å’Œå‚æ•°æ•°é‡</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Method</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">methods</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">method</span><span class="p">.</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">method</span><span class="p">.</span><span class="na">getParameterCount</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„æŒ‡å®šæ–¹æ³•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Method</span><span class="w"> </span><span class="n">method1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">getDeclaredMethod</span><span class="p">(</span><span class="s">&#34;sort&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„é‡è½½æ–¹æ³•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Method</span><span class="w"> </span><span class="n">method2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">getDeclaredMethod</span><span class="p">(</span><span class="s">&#34;sort&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è®¾ç½®æ–¹æ³•å¯è®¿é—®ï¼Œä»¥ä¾¿åå°„è°ƒç”¨</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">method1</span><span class="p">.</span><span class="na">setAccessible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ä½¿ç”¨åå°„è°ƒç”¨æ–¹æ³•</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">method1</span><span class="p">.</span><span class="na">invoke</span><span class="p">(</span><span class="n">A</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„æ— å‚æ„é€ å™¨</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Constructor</span><span class="w"> </span><span class="n">con2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">getDeclaredConstructor</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ä½¿ç”¨åå°„é€šè¿‡æ— å‚æ„é€ å™¨åˆ›å»ºAgentå¯¹è±¡</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Agent</span><span class="w"> </span><span class="n">agent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Agent</span><span class="p">)</span><span class="w"> </span><span class="n">con2</span><span class="p">.</span><span class="na">newInstance</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// è·å–Agentç±»çš„æŒ‡å®šå±æ€§å¹¶è®¾ç½®å¯è®¿é—®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Field</span><span class="w"> </span><span class="n">field2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">getDeclaredField</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">field2</span><span class="p">.</span><span class="na">setAccessible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ä½¿ç”¨åå°„ä¿®æ”¹å±æ€§å€¼</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">field2</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">agent</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;AgentB&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// æ‰“å°ä¿®æ”¹å±æ€§å€¼åçš„Agentå¯¹è±¡</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">agent</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.servers.servers.reflect</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">lombok.ToString</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Agent</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">prefect</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Agent</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;æ— å‚æ„é€ å™¨å¯åŠ¨&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">Agent</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">prefect</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">prefect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">prefect</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;æœ‰å‚æ„é€ å™¨å¯åŠ¨&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">sort</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&#34;è¿™æ˜¯sortæ–¹æ³•&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">sort</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&#34;è¿™æ˜¯sortæ–¹æ³•ï¼Œå‚æ•°ä¸ºï¼š&#34;</span><span class="o">+</span><span class="n">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">dance</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">prefect</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">prefect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">prefect</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&#34;name:&#34;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s">&#34;  prefect:&#34;</span><span class="o">+</span><span class="n">prefect</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&#34;name:&#34;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s">&#34;  prefect:&#34;</span><span class="o">+</span><span class="n">prefect</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ³¨è§£">æ³¨è§£
</h2><p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241107092724691.png"
	width="428"
	height="306"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241107092724691_hu15228060092957148028.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241107092724691_hu1626274805247236703.png 1024w"
	loading="lazy"
	
		alt="image-20241107092724691"
	
	
		class="gallery-image" 
		data-flex-grow="139"
		data-flex-basis="335px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241107093302626.png"
	width="1195"
	height="739"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241107093302626_hu8291286524989084971.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241107093302626_hu4613421322620369175.png 1024w"
	loading="lazy"
	
		alt="image-20241107093302626"
	
	
		class="gallery-image" 
		data-flex-grow="161"
		data-flex-basis="388px"
	
></p>
<p>æ³¨è§£ä¸­ä»…æœ‰valueå€¼ ï¼Œå¯ä»¥ä¸å†™valueç›´æ¥èµ‹å€¼ï¼Œä½†æ˜¯å¦‚æœæœ‰å…¶ä»–å±æ€§ä¸”æ— é»˜è®¤å€¼åˆ™ä¸èƒ½çœç•¥ã€‚</p>
<p><strong>å…ƒæ³¨è§£</strong></p>
<p><strong><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241107095206313.png"
	width="572"
	height="538"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241107095206313_hu6403023307584144202.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241107095206313_hu13088686965465583679.png 1024w"
	loading="lazy"
	
		alt="image-20241107095206313"
	
	
		class="gallery-image" 
		data-flex-grow="106"
		data-flex-basis="255px"
	
></strong></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241107095524957.png"
	width="609"
	height="602"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241107095524957_hu16478979021580549660.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241107095524957_hu12212897330751917085.png 1024w"
	loading="lazy"
	
		alt="image-20241107095524957"
	
	
		class="gallery-image" 
		data-flex-grow="101"
		data-flex-basis="242px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241107095644536.png"
	width="1432"
	height="826"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241107095644536_hu302501064277909320.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241107095644536_hu11948808185627089362.png 1024w"
	loading="lazy"
	
		alt="image-20241107095644536"
	
	
		class="gallery-image" 
		data-flex-grow="173"
		data-flex-basis="416px"
	
><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241107095644848.png"
	width="1432"
	height="826"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241107095644848_hu302501064277909320.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241107095644848_hu11948808185627089362.png 1024w"
	loading="lazy"
	
		alt="image-20241107095644848"
	
	
		class="gallery-image" 
		data-flex-grow="173"
		data-flex-basis="416px"
	
></p>
<p><img src="/p/java-%E5%9F%BA%E7%A1%80/image-20241107100834663.png"
	width="1106"
	height="487"
	srcset="/p/java-%E5%9F%BA%E7%A1%80/image-20241107100834663_hu6512260286292333401.png 480w, /p/java-%E5%9F%BA%E7%A1%80/image-20241107100834663_hu5966225269237425171.png 1024w"
	loading="lazy"
	
		alt="image-20241107100834663"
	
	
		class="gallery-image" 
		data-flex-grow="227"
		data-flex-basis="545px"
	
></p>
<h2 id="åŠ¨æ€ä»£ç†">åŠ¨æ€ä»£ç†
</h2><h3 id="åŠ¨æ€ä»£ç†æ¦‚è¿°">åŠ¨æ€ä»£ç†æ¦‚è¿°
</h3><p>åŠ¨æ€ä»£ç†æ˜¯ä¸€ç§åœ¨è¿è¡Œæ—¶åˆ›å»ºä¸€ä¸ªå®ç°æ¥å£çš„ä»£ç†å¯¹è±¡çš„æŠ€æœ¯ã€‚Java æä¾›äº† <code>java.lang.reflect.Proxy</code> ç±»æ¥å®ç°åŠ¨æ€ä»£ç†ã€‚åŠ¨æ€ä»£ç†ä¸»è¦åº”ç”¨äº AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ã€æ—¥å¿—è®°å½•ã€æƒé™æ§åˆ¶ç­‰åœºæ™¯ã€‚</p>
<h3 id="åŸä»£ç ä¸­çš„åŠ¨æ€ä»£ç†åº”ç”¨">åŸä»£ç ä¸­çš„åŠ¨æ€ä»£ç†åº”ç”¨
</h3><p>å‡è®¾æˆ‘ä»¬éœ€è¦ä¸º <code>demo2</code> ç±»ä¸­çš„ <code>f</code> æ–¹æ³•æ·»åŠ æ—¥å¿—è®°å½•åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€ä»£ç†æ¥å®ç°ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ï¼š</p>
<h4 id="1-å®šä¹‰æ¥å£">1. å®šä¹‰æ¥å£
</h4><p>é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œè¯¥æ¥å£åŒ…å« <code>f</code> æ–¹æ³•ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">DemoInterface</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2-å®ç°æ¥å£">2. å®ç°æ¥å£
</h4><p>å®ç°ä¸Šè¿°æ¥å£ï¼Œå°† <code>demo2</code> ç±»ä¸­çš„ <code>f</code> æ–¹æ³•ç§»åˆ°å®ç°ç±»ä¸­ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DemoImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DemoInterface</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">list</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">2</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="3-åˆ›å»ºåŠ¨æ€ä»£ç†ç±»">3. åˆ›å»ºåŠ¨æ€ä»£ç†ç±»
</h4><p>ä½¿ç”¨ <code>Proxy</code> ç±»åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œå¹¶åœ¨è°ƒç”¨æ–¹æ³•æ—¶æ·»åŠ æ—¥å¿—è®°å½•åŠŸèƒ½ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.InvocationHandler</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.Method</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.Proxy</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DemoProxy</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">InvocationHandler</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">DemoInterface</span><span class="w"> </span><span class="n">demoInterface</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">DemoProxy</span><span class="p">(</span><span class="n">DemoInterface</span><span class="w"> </span><span class="n">demoInterface</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">demoInterface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">demoInterface</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">invoke</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">proxy</span><span class="p">,</span><span class="w"> </span><span class="n">Method</span><span class="w"> </span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Before method: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">method</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Object</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">method</span><span class="p">.</span><span class="na">invoke</span><span class="p">(</span><span class="n">demoInterface</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;After method: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">method</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">DemoInterface</span><span class="w"> </span><span class="nf">createProxy</span><span class="p">(</span><span class="n">DemoInterface</span><span class="w"> </span><span class="n">demoInterface</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">DemoInterface</span><span class="p">)</span><span class="w"> </span><span class="n">Proxy</span><span class="p">.</span><span class="na">newProxyInstance</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">demoInterface</span><span class="p">.</span><span class="na">getClass</span><span class="p">().</span><span class="na">getClassLoader</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">demoInterface</span><span class="p">.</span><span class="na">getClass</span><span class="p">().</span><span class="na">getInterfaces</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">DemoProxy</span><span class="p">(</span><span class="n">demoInterface</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="4-ä¿®æ”¹ä¸»ç±»">4. ä¿®æ”¹ä¸»ç±»
</h4><p>åœ¨ä¸»ç±»ä¸­ä½¿ç”¨åŠ¨æ€ä»£ç†å¯¹è±¡è°ƒç”¨ <code>f</code> æ–¹æ³•ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.*</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">demo2</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeSet</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">set</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">set</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">ThreadLocalRandom</span><span class="p">.</span><span class="na">current</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="n">201</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// å°†setè½¬æˆlist</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">set</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">size</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">DemoInterface</span><span class="w"> </span><span class="n">demoInterface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DemoImpl</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">DemoInterface</span><span class="w"> </span><span class="n">proxy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DemoProxy</span><span class="p">.</span><span class="na">createProxy</span><span class="p">(</span><span class="n">demoInterface</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">proxy</span><span class="p">.</span><span class="na">f</span><span class="p">(</span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;æœ€åä¸€ä¸ªæ•°&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;åˆå§‹ä½ç½®&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">n</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ€»ç»“">æ€»ç»“
</h3><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬æˆåŠŸåœ°ä¸º <code>demo2</code> ç±»ä¸­çš„ <code>f</code> æ–¹æ³•æ·»åŠ äº†æ—¥å¿—è®°å½•åŠŸèƒ½ï¼Œè€Œæ— éœ€ä¿®æ”¹åŸå§‹æ–¹æ³•çš„å®ç°ã€‚åŠ¨æ€ä»£ç†çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ä½¿å¾—å®ƒåœ¨å®é™…å¼€å‘ä¸­éå¸¸æœ‰ç”¨ã€‚</p>

</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2024 Lou Chao
    </section>
    
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
